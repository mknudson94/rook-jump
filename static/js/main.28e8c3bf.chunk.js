(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(t,e,a){},15:function(t,e,a){"use strict";a.r(e);var r=a(0),n=a.n(r),i=a(7),o=a.n(i),s=(a(14),a(1)),c=a(2),l=a(4),u=a(3),h=a(5);function f(t){return Math.round(Math.random()*Math.floor(t))}function d(t,e){return{row:Math.floor(t/e),col:t%e}}function v(t,e,a){return{board:t,size:e,difficulty:a,fitness:arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,solution:arguments.length>4&&void 0!==arguments[4]?arguments[4]:null}}function p(t,e,a){var r=t.board,n=t.size,i=(a-e)%n===0,o=Math.floor(a/n)===Math.floor(e/n),s=Math.abs(a-e)===r[e],c=Math.abs(Math.floor(a/n)-Math.floor(e/n))===r[e];return o&&s||i&&c}function b(t){var e,a=0,r=[],n=[],i=t.board.length-1,o={0:[0]};for(r.push(0);0!==r.length;){e=r.shift(),n.push(e);for(var s=[],c=0;c<t.board.length;c++)p(t,e,c)&&s.push(c);for(var l=0,u=s;l<u.length;l++){var h=u[l];h===i&&(a=1),n.includes(h)||r.includes(h)||(r.push(h),o[h]=o[e].concat(h))}}return o.hasOwnProperty(i)&&(a*=o[i].length/t.difficulty),v(t.board,t.size,t.difficulty,a,o[i])}function y(t){var e=t.board.slice();return e[f(e.length-2)]=e[f(e.length-2)],b(v(e,t.size,t.difficulty))}function m(t,e){for(var a=Array(Math.pow(t,2)).fill(null),r=0;r<Math.pow(t,2);r++){var n=d(r,t),i=Math.max(Math.abs(n.row-Math.floor(t/2)),Math.abs(n.col-Math.floor(t/2)))+Math.floor(t/2);a[r]=f(i-1)+1}return a[a.length-1]=0,b(v(a,t,e))}var k=function(t){for(var e=30+10*t,a=Math.floor((t-1)/3)+4,r=m(a,t),n=0;;n++){var i=y(r);if(i.fitness>r.fitness&&(r=i),r.fitness>1){var o=function(){var t=[];return r.solution.forEach(function(e){return t.push(d(e,r.size))}),r.solution=t,console.log(r),{v:r}}();if("object"===typeof o)return o.v}else n%e===0&&(r=m(a,t))}},M=function(t){function e(t){var a;return Object(s.a)(this,e),(a=Object(l.a)(this,Object(u.a)(e).call(this,t))).state={boardData:k(t.difficulty),activeSquare:0,userPath:[{row:0,col:0}],history:[],reveal:!1},a}return Object(h.a)(e,t),Object(c.a)(e,[{key:"componentDidUpdate",value:function(t){t.difficulty!==this.props.difficulty&&(console.log("updating board"),this.setState({activeSquare:0,boardData:k(this.props.difficulty),path:[{row:0,col:0}],reveal:!1}))}},{key:"isSuccessor",value:function(t){var e=this.state.activeSquare,a=this.state.boardData.board,r=(t-e)%this.state.boardData.size===0,n=Math.floor(t/this.state.boardData.size)===Math.floor(e/this.state.boardData.size),i=Math.abs(t-e)===a[e],o=Math.abs(Math.floor(t/this.state.boardData.size)-Math.floor(e/this.state.boardData.size))===a[e];return n&&i||r&&o}},{key:"handleClick",value:function(t){if(this.isSuccessor(t)){var e=this.state.history.slice();e.push({activeSquare:this.state.activeSquare,userPath:this.state.userPath});var a=d(t,this.state.boardData.size),r=this.state.userPath.concat(a);this.setState({activeSquare:t,userPath:r,history:e})}}},{key:"handleSolveClick",value:function(){this.setState({reveal:!this.state.reveal})}},{key:"handleUndo",value:function(){var t=this.state.history,e=t.pop();this.setState({activeSquare:e.activeSquare,userPath:e.userPath,history:t})}},{key:"render",value:function(){var t=this,e=Math.pow(this.state.boardData.size,2)-1,a=this.state.activeSquare===e?n.a.createElement("div",null,"You win!"):n.a.createElement("div",null,"Active square: ",this.state.activeSquare);return n.a.createElement("div",null,n.a.createElement(j,{size:this.state.boardData.size,path:this.state.reveal?this.state.boardData.solution:this.state.userPath}),n.a.createElement(O,{squares:this.state.boardData.board,difficulty:this.props.difficulty,size:this.state.boardData.size,onClick:function(e){return t.handleClick(e)}}),n.a.createElement("div",{className:"game-info"},a),n.a.createElement("button",{className:"undo",onClick:function(){return t.handleUndo()}},"Undo"),n.a.createElement("button",{className:"solvePrompt",onClick:function(){return t.handleSolveClick()}},"Reveal solution?"))}}]),e}(n.a.Component);function g(t){return n.a.createElement("button",{className:"square",onClick:t.onClick},t.value)}var O=function(t){function e(){return Object(s.a)(this,e),Object(l.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(h.a)(e,t),Object(c.a)(e,[{key:"renderSquare",value:function(t){var e=this;return n.a.createElement(g,{key:t,value:this.props.squares[t],onClick:function(){return e.props.onClick(t)}})}},{key:"render",value:function(){for(var t=[],e=0;e<this.props.size;e++){for(var a=[],r=0;r<this.props.size;r++){var i=e*this.props.size+r;a.push(this.renderSquare(i))}t.push(n.a.createElement("div",{key:e,className:"board-row"},a))}return n.a.createElement("div",null,t)}}]),e}(n.a.Component),j=function(t){function e(){return Object(s.a)(this,e),Object(l.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(h.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){var t=[],e=[],a=!0,r=!1,i=void 0;try{for(var o,s=(this.props.path||[])[Symbol.iterator]();!(a=(o=s.next()).done);a=!0){var c=o.value;t.push(33*c.col+16.5),e.push(33*c.row+16.5)}}catch(p){r=!0,i=p}finally{try{a||null==s.return||s.return()}finally{if(r)throw i}}for(var l=[],u=0;u<this.props.path.length-1;u++){var h=t[u+1]-t[u],f=e[u+1]-e[u],d=h/2||10*Math.sign(f),v=f/2||-10*Math.sign(h);l.push(n.a.createElement("path",{key:2*u,d:"M ".concat(t[u]," ").concat(e[u]," Q ").concat(t[u]+d," ").concat(e[u]+v,", ").concat(t[u+1]," ").concat(e[u+1]),stroke:"black",fill:"transparent"})),l.push(n.a.createElement("circle",{key:2*u+1,cx:t[u+1],cy:e[u+1],r:"3",fill:"red"}))}return n.a.createElement("svg",{className:"overlay",height:33*this.props.size,width:33*this.props.size},l)}}]),e}(n.a.Component),E=M,S=function(t){function e(t){var a;return Object(s.a)(this,e),(a=Object(l.a)(this,Object(u.a)(e).call(this,t))).handleOptionChange=function(t){console.log("".concat(t.target.value," has been selected!")),a.setState({difficulty:t.target.value}),a.forceUpdate()},a.state={difficulty:5},a}return Object(h.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){var t=this;return n.a.createElement("div",null,n.a.createElement(E,{difficulty:this.state.difficulty}),n.a.createElement("div",null,n.a.createElement(z,{difficulty:this.state.difficulty,onChange:function(e){return t.handleOptionChange(e)}})))}}]),e}(n.a.Component),z=function(t){function e(){return Object(s.a)(this,e),Object(l.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(h.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){for(var t=[],e=0;e<10;e++)t.push(n.a.createElement("div",{key:e},n.a.createElement("input",{type:"radio",value:e+1,checked:this.props.difficulty==e+1,onChange:this.props.onChange}),e+1));return n.a.createElement("div",null,t)}}]),e}(n.a.Component),C=S;o.a.render(n.a.createElement(C,null),document.getElementById("root"))},8:function(t,e,a){t.exports=a(15)}},[[8,1,2]]]);
//# sourceMappingURL=main.28e8c3bf.chunk.js.map