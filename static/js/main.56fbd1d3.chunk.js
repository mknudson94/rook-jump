(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{183:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(26),s=a.n(i),o=a(11),l=a(12),c=a(15),h=a(13),u=a(16),d=a(14),p=a(22),f=a.n(p);a(82);function m(e){return r.a.createElement(f.a,{className:e.classes.square,onClick:e.onClick},e.value)}var v=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"renderSquare",value:function(e){var t=this;return r.a.createElement(m,{key:e,value:this.props.squares[e],onClick:function(){return t.props.onClick(e)},classes:this.props.classes})}},{key:"render",value:function(){for(var e=[],t=0;t<this.props.size;t++){for(var a=[],n=0;n<this.props.size;n++){var i=t*this.props.size+n;a.push(this.renderSquare(i))}e.push(r.a.createElement("div",{key:t,className:"board-row"},a))}return r.a.createElement("div",null,e)}}]),t}(r.a.Component),b=Object(d.withStyles)({square:{background:"rgba(255, 255, 255, 0)",border:"1px solid #999",borderRadius:0,float:"left",fontSize:"22px",fontWeight:"bold",lineHeight:"34px",height:"34px",width:"34px",minWidth:"34px",marginRight:"-1px",marginTop:"-1px",padding:0,textAlign:"center"},hover:{}})(v),g=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.size,n=[],i=[],s=!0,o=!1,l=void 0;try{for(var c,h=(this.props.path||[])[Symbol.iterator]();!(s=(c=h.next()).done);s=!0){var u=c.value;n.push(33*u.col+16.5),i.push(33*u.row+16.5)}}catch(g){o=!0,l=g}finally{try{s||null==h.return||h.return()}finally{if(o)throw l}}for(var d=[],p=0;p<this.props.path.length-1;p++){var f=n[p+1]-n[p],m=i[p+1]-i[p],v=f/2||10*Math.sign(m),b=m/2||-10*Math.sign(f);d.push(r.a.createElement("path",{key:2*p,d:"M ".concat(n[p]," ").concat(i[p]," Q ").concat(n[p]+v," ").concat(i[p]+b,", ").concat(n[p+1]," ").concat(i[p+1]),stroke:"black",fill:"transparent"})),d.push(r.a.createElement("circle",{key:2*p+1,cx:n[p+1],cy:i[p+1],r:"3",fill:"red"}))}return r.a.createElement("svg",{className:t.overlay,height:33*a,width:33*a},d)}}]),t}(r.a.Component),y=Object(d.withStyles)({overlay:{}})(g),E=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){for(var e=this,t=this.props.classes,a=[],n=function(n){a.push(r.a.createElement(f.a,{className:t.radioButton,key:n,variant:"contained",size:"small",value:n+1,disabled:e.props.difficulty==n+1,onClick:function(){return e.props.onChange(n)}},n+1))},i=0;i<10;i++)n(i);return r.a.createElement("div",null,a)}}]),t}(r.a.Component),k=Object(d.withStyles)({radioButton:{borderRadius:0,minWidth:40}})(E);function w(e){return Math.round(Math.random()*Math.floor(e))}function x(e,t){return{row:Math.floor(e/t),col:e%t}}function C(e,t,a){return{board:e,size:t,difficulty:a,fitness:arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,solution:arguments.length>4&&void 0!==arguments[4]?arguments[4]:null}}function z(e,t,a){var n=e.board,r=e.size,i=(a-t)%r===0,s=Math.floor(a/r)===Math.floor(t/r),o=Math.abs(a-t)===n[t],l=Math.abs(Math.floor(a/r)-Math.floor(t/r))===n[t];return s&&o||i&&l}function j(e){var t,a=0,n=[],r=[],i=e.board.length-1,s={0:[0]};for(n.push(0);0!==n.length;){t=n.shift(),r.push(t);for(var o=[],l=0;l<e.board.length;l++)z(e,t,l)&&o.push(l);for(var c=0,h=o;c<h.length;c++){var u=h[c];u===i&&(a=1),r.includes(u)||n.includes(u)||(n.push(u),s[u]=s[t].concat(u))}}return s.hasOwnProperty(i)&&(a*=s[i].length/e.difficulty),C(e.board,e.size,e.difficulty,a,s[i])}function O(e){var t=e.board.slice();return t[w(t.length-2)]=t[w(t.length-2)],j(C(t,e.size,e.difficulty))}function S(e,t){for(var a=Array(Math.pow(e,2)).fill(null),n=0;n<Math.pow(e,2);n++){var r=x(n,e),i=Math.max(Math.abs(r.row-Math.floor(e/2)),Math.abs(r.col-Math.floor(e/2)))+Math.floor(e/2);a[n]=w(i-1)+1}return a[a.length-1]=0,j(C(a,e,t))}var M=function(e){for(var t=30+10*e,a=Math.floor((e-1)/3)+4,n=S(a,e),r=0;;r++){var i=O(n);if(i.fitness>n.fitness&&(n=i),n.fitness>1){var s=function(){var e=[];return n.solution.forEach(function(t){return e.push(x(t,n.size))}),n.solution=e,console.log(n),{v:n}}();if("object"===typeof s)return s.v}else r%t===0&&(n=S(a,e))}},q=a(6),D=a.n(q),N=a(70),T=a.n(N),P=a(43),R=a.n(P),A=a(72),B=a.n(A),I=a(73),W=a.n(I),U=a(74),F=a.n(U),H=a(71),J=a.n(H),G=a(75),L=a.n(G),Q=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).handleExpandClick=function(){a.setState(function(e){return{expanded:!e.expanded}})},a.state={boardData:M(e.difficulty),activeSquare:0,userPath:[{row:0,col:0}],history:[],reveal:!1,expanded:!1},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e){e.difficulty!==this.props.difficulty&&(console.log("updating board"),this.setState({activeSquare:0,boardData:M(this.props.difficulty),path:[{row:0,col:0}],reveal:!1}))}},{key:"isSuccessor",value:function(e){var t=this.state.activeSquare,a=this.state.boardData.board,n=(e-t)%this.state.boardData.size===0,r=Math.floor(e/this.state.boardData.size)===Math.floor(t/this.state.boardData.size),i=Math.abs(e-t)===a[t],s=Math.abs(Math.floor(e/this.state.boardData.size)-Math.floor(t/this.state.boardData.size))===a[t];return r&&i||n&&s}},{key:"handleClick",value:function(e){if(this.isSuccessor(e)){var t=this.state.history.slice();t.push({activeSquare:this.state.activeSquare,userPath:this.state.userPath});var a=x(e,this.state.boardData.size),n=this.state.userPath.concat(a);this.setState({activeSquare:e,userPath:n,history:t})}}},{key:"handleSolveClick",value:function(){this.setState({reveal:!this.state.reveal})}},{key:"handleUndo",value:function(){if(0!==this.state.history.length){var e=this.state.history,t=e.pop();this.setState({activeSquare:t.activeSquare,userPath:t.userPath,history:e})}}},{key:"render",value:function(){var e=this,t=this.props.classes;console.log(t);var a=Math.pow(this.state.boardData.size,2)-1,n=x(this.state.activeSquare,this.state.boardData.size),i=this.state.activeSquare===a?this.state.userPath.length===this.state.boardData.solution.length?r.a.createElement(D.a,{variant:"subtitle2"},"You win!"):r.a.createElement(D.a,{variant:"subtitle2"},"Good job! ",r.a.createElement("br",null),"But that's not the shortest solution..."):r.a.createElement(D.a,{variant:"subtitle2"},"Active square: (".concat(n.row,", ").concat(n.col,")"));return r.a.createElement(T.a,{className:t.containerCard},r.a.createElement(R.a,{className:t.cardContent},r.a.createElement("div",{className:t.boardAndOverlayContainer},r.a.createElement("div",{className:t.overlay},r.a.createElement(y,{size:this.state.boardData.size,path:this.state.reveal?this.state.boardData.solution:this.state.userPath})),r.a.createElement(b,{className:t.board,squares:this.state.boardData.board,difficulty:this.props.difficulty,size:this.state.boardData.size,onClick:function(t){return e.handleClick(t)}})),r.a.createElement("div",{className:t.controls},i,r.a.createElement(J.a,{style:{margin:"16px 0"}}),r.a.createElement("div",null,r.a.createElement(f.a,{className:t.actionButton,variant:"outlined",color:"inherit",size:"small",onClick:function(){return e.handleUndo()}},"Undo"),r.a.createElement(f.a,{className:t.actionButton,variant:"outlined",color:"inherit",size:"small",onClick:function(){return e.handleSolveClick()}},this.state.reveal?"Hide solution":"Reveal solution")))),r.a.createElement(B.a,{className:t.actions,disableActionSpacing:!0},r.a.createElement(D.a,{variant:"caption",style:{marginLeft:"auto"},onClick:this.handleExpandClick},"Change difficulty"),r.a.createElement(W.a,{className:this.state.expanded?t.expandOpen:t.expand,onClick:this.handleExpandClick,"aria-expanded":this.state.expanded,"aria-label":"Show more"},r.a.createElement(F.a,null))),r.a.createElement(L.a,{in:this.state.expanded,className:t.collapseContainer},r.a.createElement(R.a,{style:{textAlign:"right"}},r.a.createElement(k,{difficulty:this.props.difficulty,onChange:this.props.handleRadioChange}))))}}]),t}(r.a.Component),Y=Object(d.withStyles)(function(e){return{containerCard:{minHeight:292,maxWidth:550,margin:"auto",padding:10},cardContent:{width:"100%",display:"flex",justifyContent:"space-around",alignItems:"center"},boardAndOverlayContainer:{position:"relative"},board:{},overlay:{position:"absolute"},controls:{display:"flex",flexDirection:"column",height:"100%",justifyContent:"space-around",margin:"20px 0",textAlign:"center"},actionButton:{display:"block",margin:"auto",marginBottom:"6px"},expand:{transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},collapseContainer:{}}})(Q),K=a(42),V=a.n(K),X=a(76),Z=a.n(X),$=a(44),_=a.n($),ee=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).handleOptionChange=function(e){var t=e+1;console.log("".concat(t," has been selected!")),a.setState({difficulty:t}),a.forceUpdate()},a.state={difficulty:5},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(V.a,{className:e.gameContainer},r.a.createElement("div",null,r.a.createElement(Y,{difficulty:this.state.difficulty,handleRadioChange:this.handleOptionChange})),r.a.createElement("div",{className:e.textContainer},r.a.createElement(D.a,{variant:"h6"},"The Rook Jumping Maze"),r.a.createElement(D.a,{paragraph:!0},'Starting at the square in the upper-left corner, find a path to the "0" square in the bottom-right corner.  From each numbered square, one may move that exact number of squares horizontally or vertically.  What\'s the shortest path you can find?'),r.a.createElement(D.a,{variant:"h6"},"Generating the Maze"),r.a.createElement(D.a,{paragraph:!0},"Initially, the maze is just a randomly generated grid of numbers, not guaranteed to be easy, challenging, or even solvable! The final maze (displayed now) is generated by an artificial intelligence algorithm known as ",r.a.createElement("strong",null,r.a.createElement("em",null,"hill climbing")),'. One non-goal square is randomly changed, and the new maze is evaluated. If it is better, it replaces the old maze. Thus, the maze climbs "uphill." This repeats until a new maze meets a certain "goodness" threshold. This evaluation is done by an ',r.a.createElement("strong",null,r.a.createElement("em",null,"objective function")),"."),r.a.createElement(D.a,{variant:"h6"},"The Objective Function"),r.a.createElement(D.a,{paragraph:!0},'The greatest creative work on this project is in defining the objective function, which takes a maze, and returns a number representing the "goodness" of the maze. The current implementation of the objective function currently only weighs solvability and shortest-solution length, which is discovered by a simple ',r.a.createElement("strong",null,r.a.createElement("em",null,"breadth-first search")),"."),r.a.createElement(D.a,{variant:"h6"},"Optimizations"),r.a.createElement(D.a,{paragraph:!0},"This project includes a few optimizations to classical algorithms, and could be expanded to include several more.",r.a.createElement(Z.a,null,r.a.createElement(_.a,null,r.a.createElement(D.a,null,r.a.createElement(D.a,{variant:"subtitle2",inline:!0},"Initial generation"),' \xa0Opposed to truly random values in each square, the maze is initially seeded with only squares from which there exists a legal move. This drastically reduces the number of "black holes," or dead ends from which the player can\'t continue. That in turn increases the chance that a maze is solvable and increases the branching factor at each step, which increases complexity.')),r.a.createElement(_.a,null,r.a.createElement(D.a,null,r.a.createElement(D.a,{variant:"subtitle2",inline:!0},"Random restart")," \xa0Random-restart hill climbing adopts the well-known adage, \"If at first you don't succeed, try, try again.\" If the goodness of the maze hasn't passed the threshold after a certain number of iterations of the hill-climbing algorithm, the process restarts with a new initial maze.")))))))}}]),t}(r.a.Component),te=Object(d.withStyles)({gameContainer:{paddingTop:"20px"},textContainer:{padding:26,maxWidth:600,margin:"auto"}})(ee);s.a.render(r.a.createElement(te,null),document.getElementById("root"))},77:function(e,t,a){e.exports=a(183)},82:function(e,t,a){}},[[77,1,2]]]);
//# sourceMappingURL=main.56fbd1d3.chunk.js.map